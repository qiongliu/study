<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax</title>
	<script src="http://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
</head>
<body>
	<button id='text'>TEXT</button>
	<p id="content"></p>
	<script>
		$("#text").click(function(){
			// text1();
			// text2();
			// text3();
			text4();
		})
		function text1(){
			$.get('/user/text1?age=30', function(data) {
				$('#content').html(data);
			});
			$.post('/user/text', {age: '30'}, function(data, textStatus, xhr) {
				console.log(data);
			});
		}
		function text2(){
			$.get('/user/text2?id=2', function(data) {
				$('#content').html(JSON.stringify(data));
			});
		}
		function text3(){
			$('#content').load('/user/text3?id=1');
		}
		function text4(){
			$.ajax('/user/text4',{
				cache:false,
				type:'get',
				// dataType:'text',
				beforeSend:function(jqXHR){
					jqXHR.setRequestHeader('name','linyi');
					jqXHR.person = {name:'liner',age:30};
				},
				dataFilter:function(data,type){
				 	return data.length;
				},
				success:function(data){
					// $('#content').html(data);
				},
				error:function(jqXHR){
					// $('#content').html(JSON.stringify(jqXHR));
				},
				complete:function(jqXHR,statusText){
					$('#content').html(jqXHR.statusText + "," + statusText + "," + jqXHR.person.name);
				},
				statusCode:{
					403:function(jqXHR,statusText){
						$('#content').html(jqXHR.status + ",403," + statusText);
					},
					404:function(jqXHR,statusTest){
						$('#content').html(jqXHR.statusText);
					}
				}
			})
		}
	</script>
</body>
</html>